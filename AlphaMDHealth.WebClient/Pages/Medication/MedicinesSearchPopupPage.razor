@namespace AlphaMDHealth.WebClient
@inherits BasePage

@if (_isDataFetched)
{
    <BasePage @bind-Error=@Error @bind-Success=@Success
              CurrentPage=@this
              IsPopup=@true
              ShowPopup=@true
              ShowClose=@true
              PageResources=@MedicationData.Resources
              PopupPagePostion=@PopupPosition.Center

              PageTitle=@string.Format(LibResources.GetResourceValueByKey(MedicationData.Resources, ResourceConstants.R_SEARCH_MEDICINE_TEXT_KEY), MedicationData.ErrorDescription) ShowPopupChanged=@OnCloseIconClicked>
        <ChildContent>
            <AmhTableControl ShowSearch=@true
                             ShowAddButton=@false
                             DataSourceType=@MedicineModel
                             ShowPagination=@false
                             ShowViewAll=@false
                             CssClass="col-12 ps pl-0 pb-3 "
                             TableStructure=@GenerateTableStructure()
                             SourceFieldStructure=@getViewCellModel()
                             IsPatientMobileView=@IsPatientMobileView
                             DataSource=@MedicationData.Medicines
                             TableHeader=@MedicationData.ErrorDescription
                             NoShowViewAllText=@true
                             OnValueChanged=@OnOptionSelectedAsync />
        </ChildContent>
    </BasePage>
}